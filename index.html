    <!doctype html>
    <html lang="en">
    <head>
      <meta charset="utf-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
      <title>OCR Camera</title>
      <meta name="theme-color" content="#0b1020" />
      <meta name="apple-mobile-web-app-capable" content="yes" />
      <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
      <meta name="apple-mobile-web-app-title" content="OCR Camera" />
      <link rel="manifest" href="manifest.webmanifest" />
      <link rel="apple-touch-icon" href="icons/apple-touch-icon.png" />
      <link rel="icon" sizes="192x192" href="icons/icon-192.png" />
      <link rel="icon" sizes="512x512" href="icons/icon-512.png" />
      <style>
        body{margin:0;font-family:sans-serif;background:#0b1020;color:#e8ecf3}
        header{padding:20px;text-align:center}
        .safety{background:#123;padding:10px;border-radius:8px;margin:0 16px 12px;color:#9ae2ff;font-size:14px;text-align:center}
        .controls button{margin-right:6px}
      </style>
    </head>
    <body>
      <header>
        <h1>OCR Camera</h1>
        <div class="safety">This app runs locally in your browser. No files or text are uploaded or stored externally. Your data stays on this device.</div>
      </header>
      <main style="padding:16px">
        <button id="capture">Simulate OCR Run</button>
        <button id="downloadTxt" disabled>Download .txt</button>
        <button id="downloadCsv" disabled>Download .csv</button>
        <pre id="out" style="margin-top:16px;background:#111;padding:10px;min-height:80px"></pre>
      </main>

      <script>
        const out=document.getElementById('out');
        const txtBtn=document.getElementById('downloadTxt');
        const csvBtn=document.getElementById('downloadCsv');
        let log=[];

        function simulateOCR(){
          const text="Sample OCR text " + new Date().toISOString();
          out.textContent=text;
          txtBtn.disabled=false;
          csvBtn.disabled=false;
          const route="DPM";
          const reason="Keyword: construction";
          log.push({
            ts:new Date().toISOString(),
            route:route,
            reason:reason,
            text:text.slice(0,200).replace(/\n/g," ")
          });
        }

        document.getElementById('capture').addEventListener('click',simulateOCR);

        txtBtn.addEventListener('click',()=>{
          const blob=new Blob([out.textContent],{type:"text/plain"});
          const a=document.createElement('a');
          a.href=URL.createObjectURL(blob);
          a.download="ocr.txt";
          a.click();
          URL.revokeObjectURL(a.href);
        });

        csvBtn.addEventListener('click',()=>{
          let csv="Timestamp,Route,Reason,Extracted Text\n";
          log.forEach(r=>{
            csv+=`\${r.ts},\${r.route},"\${r.reason}","\${r.text}"
`;
          });
          const blob=new Blob([csv],{type:"text/csv"});
          const a=document.createElement('a');
          a.href=URL.createObjectURL(blob);
          a.download="ocr_log.csv";
          a.click();
          URL.revokeObjectURL(a.href);
        });
      </script>
    </body>
    </html>
